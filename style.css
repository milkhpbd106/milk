document.addEventListener("DOMContentLoaded", function () {
  const password = "Milk10/6";

  // T·∫°m b·ªè ki·ªÉm tra ng√†y ƒë·ªÉ test
  const userPassword = prompt("‚ú® H√£y nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ m·ªü h·ªôp qu√† m·ªông m∆° nh√© ‚ú®");

  if (userPassword === password) {
    const introVideo = document.getElementById("intro-video");
    const loopVideo = document.getElementById("loop-video");
    const bgMusic = document.getElementById("bg-music");
    const message = document.getElementById("message");
    const gift = document.getElementById("gift");
    const initialMessage = document.getElementById("initial-message");
    const finalMessage = document.getElementById("final-message");
    const flowerContainer = document.getElementById("flower-container");
    const mainContent = document.getElementById("main-content");

    mainContent.style.display = "block";
    introVideo.style.display = "block";
    introVideo.play();

    // Ph√°t nh·∫°c ngay l·∫≠p t·ª©c v·ªõi √¢m l∆∞·ª£ng nh·∫π nh√†ng
    bgMusic.volume = 0.4;
    bgMusic.play();

    // Hi·ªán l·ªùi ch√∫c ƒë·∫ßu ti√™n sau 1s
    setTimeout(() => {
      initialMessage.style.display = "block";
    }, 1000);

    // Sau 8s, chuy·ªÉn sang video m√¢y v√† hi·ªÉn th·ªã l·ªùi ch√∫c cu·ªëi
    setTimeout(() => {
      introVideo.style.display = "none";
      initialMessage.style.display = "none";
      loopVideo.style.display = "block";
      loopVideo.play();
      finalMessage.style.display = "block";
      message.style.display = "block";
    }, 8000);

    // Hi·ªáu ·ª©ng hoa bay d·ªÖ th∆∞∆°ng m√†u pastel
    const flowerColors = ["#f8d5ec", "#e3d0ff", "#d6f5ff", "#fbe4ff", "#e0f7ff"];
    for (let i = 0; i < 25; i++) {
      const flower = document.createElement("div");
      flower.className = "flower";
      flower.style.left = Math.random() * 100 + "vw";
      flower.style.animationDelay = Math.random() * 10 + "s";
      flower.style.animationDuration = 4 + Math.random() * 6 + "s";
      flower.style.backgroundColor = flowerColors[Math.floor(Math.random() * flowerColors.length)];
      flowerContainer.appendChild(flower);
    }
  } else {
    alert("üí´ Sai m·∫≠t kh·∫©u r·ªìi n√® ~ Th·ª≠ l·∫°i m·ªôt l·∫ßn n·ªØa nha! üíñ");
  }
});

function showGift() {
  document.getElementById("gift").style.display = "block";
}
