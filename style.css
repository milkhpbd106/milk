// script.js â€“ Quáº£n lÃ½ logic trÃ¬nh tá»± video, lá»i chÃºc, nháº¡c ná»n vÃ  má»Ÿ quÃ 

const music = new Audio('you-vietra.mp3');
let firstVideo = document.getElementById('firstVideo');
let secondVideo = document.getElementById('secondVideo');
let messageBox = document.getElementById('messageBox');
let giftBox = document.getElementById('giftBox');
let giftImage = document.getElementById('giftImage');
let openGiftButton = document.getElementById('openGiftButton');

function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function startSequence() {
  music.loop = true;
  music.play();
  firstVideo.play();

  // Hiá»‡n 3 lá»i chÃºc Ä‘áº§u tiÃªn
  messageBox.innerHTML = `
    <div class="message fade-in-out">
      <p>ChÃºc má»«ng sinh nháº­t cáº­u</p>
      <p>Cáº£m Æ¡n vÃ¬ Ä‘Ã£ luÃ´n lÃ  Ã¡nh sÃ¡ng dá»‹u dÃ ng trong tháº¿ giá»›i cá»§a tá»›</p>
      <p>HÃ£y nháº¥n vÃ o Ä‘Ã¢y Ä‘á»ƒ má»Ÿ mÃ³n quÃ  nhá» xÃ­u tá»› dÃ nh riÃªng cho cáº­u</p>
    </div>`;

  await delay(10000); // 7s hiá»ƒn thá»‹ + 3s fade out

  // áº¨n video Ä‘áº§u, hiá»‡n video dreamy tiáº¿p theo
  firstVideo.style.display = 'none';
  secondVideo.style.display = 'block';
  secondVideo.play();

  // Hiá»‡n 2 cÃ¢u chÃºc tiáº¿p theo
  messageBox.innerHTML = `
    <div class="message fade-in-out">
      <p>ğŸŒ¸ Happy Birthday Milk ğŸ’–</p>
      <p>Letâ€™s step into a dreamy world together</p>
    </div>`;

  await delay(6000); // 3s hiá»ƒn thá»‹ + 3s fade out

  // Hiá»‡n nÃºt má»Ÿ quÃ 
  openGiftButton.style.display = 'block';
}

openGiftButton.addEventListener('click', () => {
  if (giftImage.style.display === 'block') {
    giftImage.style.display = 'none';
  } else {
    giftImage.style.display = 'block';
  }
});

window.addEventListener('load', startSequence);
